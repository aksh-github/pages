(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))m(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const o of f.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&m(o)}).observe(document,{childList:!0,subtree:!0});function n(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function m(c){if(c.ep)return;c.ep=!0;const f=n(c);fetch(c.href,f)}})();function Dt(s,r){let n;return function(...m){const c=()=>(n=null,s.apply(this,m));clearTimeout(n),n=setTimeout(c,r)}}const U=new Set,nt=new Set,X=(()=>{let s=null;const r=T=>{s=T},n=T=>{console.warn("untested code"),o=!0,T(),o=!1,f()},m=T=>{u=!0,T(),u=!1};let c=null,f=()=>{},o=!1,u=!1;const p=(T,S=100)=>{f=T,c=Dt(f,S)},b=T=>{let S={...T},k=s;return[O=>O?S[O]:S,O=>{if(typeof O=="function")S=O(S);else{if(S==O)return;S={...O}}o?k&&U.add(k):u||(k&&U.add(k),c())}]},R=T=>{let S=T,k=s;return[()=>S,O=>{if(typeof O=="function")S=O(S);else{if(S==O)return;S=O}o?k&&U.add(k):u||(k&&U.add(k),c())}]};return{batch:n,registerCallback:p,state:b,atom:R,context:T=>{const[S,k]=R(T);return{get:()=>S(),set:z=>{const G=S();m(()=>k(z)),G!==S()&&(nt.add(S()),c())}}},skipUpdate:m,setCurrComp:r}})(),xt=X.registerCallback,tt=X.atom,It=X.skipUpdate,at=X.setCurrComp,Mt=X.context,w=()=>{},Z=(()=>{let s=[],r={},n={},m=[],c=null,f=null,o=null;function u(){const t=new WeakMap;return{registerEventListener:(e,l,i,g)=>{t.has(e)||t.set(e,[]),t.get(e).push({type:l,listener:i,options:g})},unregisterEventListener:e=>{if(t.has(e)){const l=t.get(e);for(;l.length;){const{type:i,listener:g,options:E}=l.pop();e.removeEventListener(i,g,E)}}},getEventListeners:e=>t.get(e)||[],unRegisterAllEventListeners:async e=>{const l=ht(e);for(let i=0;i<l.length;i++)p.unregisterEventListener(l[i]),l[i]=null,i%50===0&&await Bt()}}}const p=new u;let b=null,R=null;function B(t){b=t}function T(t){R=t}function S(){Object.keys(n).forEach(t=>{var e,l;r[t]||((l=(e=n[t]).unMount)==null||l.call(e),n[t].unMount=null,pt[t]&&delete pt[t])})}function k(){for(;s!=null&&s.length;)s.pop()()}function z(t,...e){return e}function G(t,e,...l){var E,x,M,q;let i=null,g;if(Array.isArray(l)&&(l=l.flat()),typeof t=="function"){g=(E=m[m.length-1])==null?void 0:E.n,m.push({n:t==null?void 0:t.name});const I=`${t.name}:${g}:${e==null?void 0:e.key}`;if(n){const D=n[I];D?(i=D.fn,b=D.mount,R=D.unMount):(at(I),i=t(e,...l),b&&s.push(b),at(null))}r[I]={fname:t.name,fn:i,mount:b,unMount:R,p:g,key:e==null?void 0:e.key},b=R=null;const y=typeof i=="function"?i({...e,children:l}):i;return m.pop(),y!=null&&y.type?(y.type==="df"&&(e={...e,fragChildLen:y==null?void 0:y.children.length}),{...y,$c:t.name,children:[y],$p:g,key:e==null?void 0:e.key,props:e||{},type:"df"}):Array.isArray(y)?(console.warn("Your component named `",t.name,"` is returning Array, manipulation to this Array is currently NOT supported and can lead to Unexpected behavior"),{$c:t.name,type:"df",children:y,$p:g}):y!=null&&y.$c?{$c:t.name,children:[y],$p:g}:{$c:t.name,value:y,props:e||{},$p:g}}if(t==="df"){let I=0;for(let y=0;y<l.length;++y)((x=l[y])==null?void 0:x.type)==="df"?I+=((q=(M=l[y])==null?void 0:M.props)==null?void 0:q.fragChildLen)||0:I+=1;return{type:t,props:{...e,fragChildLen:I},children:l}}else return{type:t,props:e||{},children:e!=null&&e.ignoreNode?[]:l}}function O(t,e,l){l?(t.setAttribute(e,l),t[e]=!0):t[e]=!1}function Et(t,e){t.removeAttribute(e),t[e]=!1}function ct(t){return/^on/.test(t)}function yt(t){return t.slice(2).toLowerCase()}function rt(t){return ct(t)||t==="forceUpdate"}function ut(t,e,l){rt(e)||(e==="className"?t.setAttribute("class",l):e==="style"?Object.keys(l).forEach(i=>{t.style[i]=l[i]}):e==="ref"?l==null||l(t):e==="ignoreLater"?(t.setAttribute("ignorenode",!0),t.removeAttribute(e.toLowerCase())):typeof l=="boolean"?O(t,e,l):((e==="value"||e==="htmlFor")&&(t[e]=l),t.setAttribute(e,l)))}function Ct(t,e,l){rt(e)||(e==="className"?t.removeAttribute("class"):typeof l=="boolean"?Et(t,e):t.removeAttribute(e))}function St(t,e){Object.keys(e).forEach(l=>{ut(t,l,e[l])})}function Pt(t,e,l,i){!l&&l==null?Ct(t,e,i):(!i||l!==i)&&ut(t,e,l)}function Lt(t,e,l={}){const i=Object.assign({},e,l);Object.keys(i).forEach(g=>{Pt(t,g,e[g],l[g])})}function At(t,e){Object.keys(e).forEach(l=>{if(ct(l)){const i=yt(l);p.registerEventListener(t,i,e[l]),t.addEventListener(i,e[l])}})}const bt=(t,e,...l)=>{function i(E,x){Object.keys(x).forEach(M=>{E.setAttributeNS(null,M,x[M])})}const g=document.createElementNS("http://www.w3.org/2000/svg","svg");i(g,e);for(const E of l){const x=document.createElementNS("http://www.w3.org/2000/svg",E.type);i(x,E.props),g.appendChild(x)}return g};function _(t){if(!(t!=null&&t.type))return t!=null&&t.$c?t.children?_(t.children[0]):document.createTextNode((t==null?void 0:t.value)==null||(t==null?void 0:t.value)==null?"":t==null?void 0:t.value):document.createTextNode(t==null||t==null?"":t);if((t==null?void 0:t.type)==="df"){const l=document.createDocumentFragment();return t.children.map(_).forEach(l.appendChild.bind(l)),l}if(t.type==="svg")return bt(t.type,t.props,...t.children);const e=document.createElement(t.type);return t!=null&&t.$c||(St(e,t.props),At(e,t.props)),t.children.map(_).forEach(e.appendChild.bind(e)),e}function Tt(t,e){return(t==null?void 0:t.type)===(e==null?void 0:e.type)&&(t==null?void 0:t.type)==="df"?(t==null?void 0:t.$c)!==(e==null?void 0:e.$c):typeof t!=typeof e||!(t!=null&&t.type)&&t!==e||(t==null?void 0:t.type)!==(e==null?void 0:e.type)||(t==null?void 0:t.value)!==(e==null?void 0:e.value)}function kt(t,e){c=t,f=e,o=f(),c.firstChild?c.replaceChild(_(o),c.firstChild):c.appendChild(_(o)),k(),n={...r},r={}}let j=[],$=[];function dt(){let t=f();w(performance.now()),j=[],$=[],Ot(c,t,o),w(performance.now());let e=setTimeout(()=>{clearTimeout(e),S(),$&&Rt($),j&&jt(j),k(),o=t,n={...r},r={}},0)}function ot(t){return t!==void 0||t!==""}const J={routeChange:!1,set:t=>{J.routeChange=t}};window.addEventListener("popstate",()=>J.set(!0)),window.addEventListener("navigate",()=>J.set(!0));function Ot(t,e,l,i=0){let g=ht(c),E=0,x=null,M=!1,q=null;J.routeChange&&(U.clear(),J.set(!1));const I=U.size;let y=null,D=!1,W=0,N=0;function st(a,P,L,F=0){var Y;if(!D&&I){if(P!=null&&P.type&&(L!=null&&L.type))return ft(P,L);if(P===L)return}if(!ot(L))j.push({p:a,op:"APPEND",c:_(P)});else if(ot(P))if(Tt(P,L))if(a!=null&&a.childNodes[F]){const C=a.childNodes[F];if(j.push({p:a,op:"REPLACE",c:[_(P),C]}),(C==null?void 0:C.nodeType)===1){for(;E<g.length;)if(E++,g[E]===C){const A=C.querySelectorAll("*").length;g.splice(E,A);break}}const H=(Y=L==null?void 0:L.props)==null?void 0:Y.fragChildLen;if((L==null?void 0:L.type)==="df"&&H)for(let A=H-1;A>=1;--A)j.push({p:a,op:"REMOVE",c:a.childNodes[F+A]}),E+=1}else if(a!=null&&a.appendChild){const C=_(P);C!=null&&C.nodeName?M?j.push({p:q,op:"APPEND",c:C}):j.push({p:a,op:"APPEND",c:C}):j.push({p:a,op:"CONTENT",c:C==null?void 0:C.textContent})}else j.push({p:a==null?void 0:a.parentNode,op:"APPEND",c:_(P)});else P!=null&&P.type&&ft(P,L);else{const C=a.childNodes[F];if(j.push({p:a,op:"REMOVE",c:C}),(C==null?void 0:C.nodeType)===1){for(;E<g.length;)if(E++,g[E]===C){const H=C.querySelectorAll("*").length;g.splice(E,H);break}}}}function ft(a,P){var F,Y,C,H;if((a==null?void 0:a.type)!=="df"?E+=1:(y=`${a.$c}:${a.$p}:${a.key}`,y.split(":")[0],I?U.has(y)&&(D=!0):D||nt.has((F=a==null?void 0:a.props)==null?void 0:F.context)&&(D=!0)),D&&W===0){w(a.props);const{fragChildLen:A}=a.props;if(A){let v=E+1;for(let V=0;V<A;++V){let lt=0;lt=g[v].querySelectorAll("*").length,W+=lt,v+=1+lt}N=E+A+W+1}else W+=g[E+1].querySelectorAll("*").length,w("comparisonsReqd till: ",g[E+W+1]),N=E+W+1}const L=g[E];if(E===N&&(D=!1,W=0,N=0),x!==L){const A=Object.keys(a.props).length,v=Object.keys(P.props).length;if(!(A===v&&A===0)){if(a.props.ignoreNode||a.props.ignoreLater)return;$.push({$target:L,newProps:a.props,oldProps:P.props})}x=L}if((Y=a==null?void 0:a.props)!=null&&Y.cacheKey){const A=(H=(C=a.children[0])==null?void 0:C.props)==null?void 0:H.__cached,v=A?P.children[0]:null;I&&!A&&(D=!0),st(g[++E],a.children[0],v,0);return}else{const A=a.children.length,v=P.children.length;A>100&&(M=!0,q=document.createDocumentFragment());for(let V=0;V<A||V<v;V++)st(L,a.children[V],P.children[V],V)}M&&(j.push({p:L,op:"APPEND",c:q}),M=!1,q=null)}st(t,e,l,i),U.clear(),nt.clear()}function Rt(t){for(;t.length;){const e=t.shift();Lt(e.$target,e.newProps,e.oldProps),e.$target=null,e.newProps=null,e.oldProps=null}}function jt(t){var e,l;for(;t.length;){const i=t.shift();switch(i.op){case"APPEND":i.p.appendChild(i.c),i.c=null,i.p=null,i.op=null;break;case"REMOVE":i.p.removeChild(i.c),((e=i.c)==null?void 0:e.nodeType)===1&&requestIdleCallback(()=>{p.unRegisterAllEventListeners(i.c),i.c=null,i.p=null,i.op=null});break;case"REPLACE":i.p.replaceChild(i.c[0],i.c[1]),((l=i.c[1])==null?void 0:l.nodeType)===1&&requestIdleCallback(()=>{p.unRegisterAllEventListeners(i.c[1]),i.c=null,i.p=null,i.op=null});break;case"CONTENT":i.p.textContent=i.c,i.c=null,i.p=null,i.op=null;break}}}return{mount:kt,forceUpdate:dt,onMount:B,onCleanup:T,h:G,df:z}})(),_t=Z.mount,Vt=Z.forceUpdate,vt=Z.onMount,Ut=Z.onCleanup,h=Z.h,pt={};function ht(s){let r=[s],n=s;function m(){for(;n;){const f=!n.getAttribute("ignorenode");n.firstElementChild&&f?(n=n.firstElementChild,r.push(n)):c()}}function c(){for(;n;){if(n.nextElementSibling){n=n.nextElementSibling,r.push(n);return}n=n.parentElement,n===s&&(n=null)}}return m(),r}function Bt(){var s;return(s=globalThis.scheduler)!=null&&s.yield?scheduler.yield():new Promise(r=>{setTimeout(r,0)})}var qt={VITE_API_HOST:"https://aksh-github.github.io",VITE_BASEPATH:"/pages/data/sanskrit/db",VITE_TS:"/data-ts.json",VITE_WORDS:"/words.json",VITE_VERBS:"/verbs.json",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Q=qt,Wt=()=>{var r;const s=(((r=window==null?void 0:window.location)==null?void 0:r.host)||"localhost")+":sans:";return{updateData:(n,m)=>{localStorage.setItem(s+n,JSON.stringify({ts:Date.now(),d:m}))},get:n=>JSON.parse(localStorage.getItem(s+n))}},et={VERBS:0,WORDS:1},K={words:{d:[],ts:0},verbs:{d:[],ts:0}};let it=null;const gt=Mt(""),Ft=()=>({row:s})=>{var r,n,m,c,f,o;return h("div",{className:"divrow"},h("h3",null,s==null?void 0:s.ev),h("p",null," ",(r=s==null?void 0:s.sv)==null?void 0:r.join(", ")),h("p",null,(n=s==null?void 0:s.gana)==null?void 0:n.join(", ")),h("p",null,(m=s==null?void 0:s.roop)==null?void 0:m.join(", ")),h("p",null,(c=s==null?void 0:s.lyut)==null?void 0:c.join(", ")),h("p",null,(f=s==null?void 0:s.kta)==null?void 0:f.join(", ")),h("p",null,(o=s==null?void 0:s.mv)==null?void 0:o.join(", ")))},Ht=s=>{var m,c,f,o,u;let r=(c=(m=it[0]())==null?void 0:m.trim())==null?void 0:c.toLowerCase(),n=(f=s==null?void 0:s.ev)==null?void 0:f.includes(r);if(!n){for(let p=0;p<((o=s==null?void 0:s.sv)==null?void 0:o.length);p++)if((s==null?void 0:s.sv[p].indexOf(r))>-1){n=!0;break}}if(!n){for(let p=0;p<((u=s==null?void 0:s.mv)==null?void 0:u.length);p++)if((s==null?void 0:s.mv[p].indexOf(r))>-1){n=!0;break}}return n},Kt=()=>({row:s})=>{var r,n;return h("li",null,h("h3",null,s==null?void 0:s.ew),h("p",null,(r=s==null?void 0:s.sw)==null?void 0:r.join(", ")),h("p",null,(n=s==null?void 0:s.mw)==null?void 0:n.join(", ")))},zt=s=>{var m,c,f,o,u;let r=(c=(m=it[0]())==null?void 0:m.trim())==null?void 0:c.toLowerCase(),n=(f=s==null?void 0:s.ew)==null?void 0:f.includes(r);if(!n){for(let p=0;p<((o=s==null?void 0:s.sw)==null?void 0:o.length);p++)if((s==null?void 0:s.sw[p].indexOf(r))>-1){n=!0;break}}if(!n){for(let p=0;p<((u=s==null?void 0:s.mw)==null?void 0:u.length);p++)if((s==null?void 0:s.mw[p].indexOf(r))>-1){n=!0;break}}return n},d={[et.VERBS]:{title:"Verbs",dkey:"verbs",jsonFile:Q.VITE_VERBS,filterFunc:Ht,RowComponent:Ft},[et.WORDS]:{title:"Words",dkey:"words",jsonFile:Q.VITE_WORDS,filterFunc:zt,setDatacb:s=>s["Everyday words"].concat(s.home).concat(s["eng other"]),RowComponent:Kt,asList:!0}},mt=(s=!1)=>{const{updateData:r,get:n}=Wt(),m=[],c=[];return Object.keys(d).forEach(f=>{const o=n(`${d[f].dkey}`);if(!o||s)m.push(Gt(d[f].jsonFile)),c.push(d[f].dkey);else{const{ts:u,d:p}=o;m.push(Promise.resolve({ts:u,d:p||[]}))}}),Promise.all(m).then(f=>{Object.keys(d).forEach(o=>{var p,b,R,B;let u=((p=f[o])==null?void 0:p.d)||f[o];u=d[o].setDatacb&&!(u!=null&&u.length)?d[o].setDatacb(u):u,(b=u==null?void 0:u.shift)==null||b.call(u),(R=u==null?void 0:u.shift)==null||R.call(u),c.includes(d[o].dkey)&&requestIdleCallback(()=>{r(`${d[o].dkey}`,u),c.splice(c.indexOf(d[o].dkey),1)}),K[`${d[o].dkey}`].d=u,K[`${d[o].dkey}`].ts=((B=f[o])==null?void 0:B.ts)||0})})},Gt=s=>fetch(`${Q.VITE_BASEPATH}${s}`).then(r=>r.json());function Jt({dkey:s}){let r=null,n=()=>[];const m=-1,[c,f]=tt(K[`${s}`].d.slice(0,m));return({prop:o,search:u,dkey:p})=>{const{title:b,filterFunc:R,RowComponent:B,asList:T}=d[o];r!==u&&(r=u,r?n=()=>K[`${p}`].d.filter(R):n=()=>[]),console.log("exec",gt.get());const S=(n().length>0?n():c()).map(k=>h(B,{row:k}));return h("div",null,h("h2",{className:"title"},b),n().length===0&&u?h("p",{className:"info"},'No results for your search: "',u,'"'):null,n().length>0&&u?h("p",{className:"info"},"Matching results: ",n().length):null,T?h("ul",{className:"list"},S):h("div",{className:"search"},S))}}function Yt(){const[s,r]=tt(0),[n,m]=tt(!1);let c=null;const[f,o]=it=tt("");return vt(()=>{console.log("mount for Sans"),mt().then(()=>{m(!0),fetch(`${Q.VITE_BASEPATH}${Q.VITE_TS}?ts=${Date.now()}`).then(u=>u.json()).then(u=>{let p=0;Object.keys(K).forEach(b=>{K[b].ts<u[b]&&(console.log("update for",b),p+=1)}),p>0&&mt(!0)})}).catch(u=>{console.log(u),n(!0)})}),Ut(()=>{console.log("unmount for Sans"),It(()=>o(""))}),u=>h("div",{className:"sans"},h("header",{className:"sticky-header"},h("h1",{className:"main-head"},"संस्कृतकोष:"),h("div",{style:{textAlign:"center"},className:"search-box"},h("input",{value:f(),ref:p=>c=p,type:"text",placeholder:"Search in English or Sanskrit...",onInput:p=>{o(p.target.value)}}),h("button",{className:"clear-search",onClick:()=>{o(""),c==null||c.focus()}},"x")),h("p",{className:"tabs"},h("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),r(et.VERBS)}},"Verbs"),h("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),r(et.WORDS)}},"Words"))),n()?h("div",{className:"search-wrapper"},h(Qt,{contextdf:gt.get()},h(Jt,{key:d[s()].dkey,dkey:d[s()].dkey,prop:s(),search:f()}))):h("p",null,"Loading..."))}const Qt=()=>({children:s})=>h("div",null,s),Xt=document.getElementById("root-vdom");xt(Vt);_t(Xt,()=>h(Yt,null));
