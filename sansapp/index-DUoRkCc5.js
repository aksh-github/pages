(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function l(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(u){if(u.ep)return;u.ep=!0;const o=l(u);fetch(u.href,o)}})();function Ut(){let e=[],n,l=!1,a=!0;return(u,o)=>{const f=o.some((c,m)=>c!==(e==null?void 0:e[m]));if(a&&(o==null?void 0:o.length)>0){a=!1;return}return f?(u(),e=o):(e==null?void 0:e.length)===(o==null?void 0:o.length)&&o.length===0&&(l||(n=u(),l=!0)),n}}function Tt(e,n){let l;return function(...a){const u=()=>(l=null,e.apply(this,a));clearTimeout(l),l=setTimeout(u,n)}}const U=new Set,Ot=new Set;let V=null;const Lt=e=>{V=e};let X=null,Z=()=>{};const Ft=(()=>{const e=m=>{console.warn("untested code"),l=!0,m(),l=!1,Z()},n=m=>{a=!0,m(),a=!1};let l=!1,a=!1;const u=(m,p=100)=>{Z=m,X=Tt(Z,p)},o=m=>{let p={...m},P=V;return[T=>T?p[T]:p,T=>{if(typeof T=="function")p=T(p);else{if(p==T)return;p={...T}}l?P&&U.add(P):a||(P&&U.add(P),X())}]},f=m=>{let p=m,P=V;return[()=>p,T=>{if(typeof T=="function")p=T(p);else{if(p==T)return;p=T}l?P&&U.add(P):a||(P&&U.add(P),X())}]};return{batch:e,registerCallback:u,state:o,atom:f,context:m=>{const[p,P]=f(m);return{get:()=>p(),set:D=>{const v=p();n(()=>P(D)),v!==p()&&(Ot.add(p()),X())}}},skipUpdate:n}})(),$t=Ft.registerCallback,it=(()=>{const e={};let n=null,l=0,a=null,u=0;const o=new Map,f=new Map;let c=!1,m=!1;const p=O=>{console.warn("untested code"),c=!0,O(),c=!1,Z()},P=(O,g=100)=>{Z=O,X=Tt(Z,g)},D=O=>{m=!0,O(),m=!1},v=()=>{for(const[O,g]of o){const R=g();o.set(O,()=>{}),R&&f.set(O,R)}},T=O=>{n=a=null,l=u=0,O&&O.forEach(g=>{var R;for(const[M,z]of o)M===g&&(o.delete(M),(R=f.get(M))==null||R(),f.delete(M));Object.keys(e).forEach(M=>{M.startsWith(g)&&(e[M]=null,delete e[M])})})};return{state:O=>{n!=V&&(l=0);const g=`${V}-${l}`;let R=e[g]||O;e[g]==null&&(e[g]=R);const z=()=>e[g],at=x=>{var K;e[g]!==x&&(n=(K=g.split("-"))==null?void 0:K[0],c?n&&U.add(n):m?e[g]=typeof x=="function"?x(e[g]):x:(n&&U.add(n),T(),e[g]=typeof x=="function"?x(e[g]):x,X()),n=null)},rt=x=>{var K;e[g]!==x&&(n=(K=g.split("-"))==null?void 0:K[0],T(),e[g]=x,X(),n=null)};return n!=V&&(n=V),l++,[z(),at,rt]},init:v,reset:T,skipUpdate:D,batch:p,registerCallback:P,effect:(O,g)=>{if(a!=V&&(u=0),(g==null?void 0:g.length)===0){o.has(`${V}`)||o.set(`${V}`,O),u=0;return}const R=`${V}-fn-${u}`;if(!e[R]){const z=Ut();e[R]=z}const M=e[R](O,g);(g==null?void 0:g.length)===0&&(e[R]=()=>{},M&&f.set(R,M)),a!=V&&(a=V),u++}}})(),lt=it.state,Ht=it.init,vt=it.reset,zt=it.registerCallback,Kt=it.effect,I=console.log,Q=document;I("check https://github.com/pomber/incremental-rendering-demo");const Ct=(()=>{let e=[],n={},l={},a=null,u=[],o=null,f=null,c=null;function m(){const t=new WeakMap;return{registerEventListener:(s,i,r,b)=>{t.has(s)||t.set(s,[]),t.get(s).push({type:i,listener:r,options:b})},unregisterEventListener:s=>{if(t.has(s)){const i=t.get(s);for(;i.length;){const{type:r,listener:b,options:E}=i.pop();s.removeEventListener(r,b,E)}}},getEventListeners:s=>t.get(s)||[],unRegisterAllEventListeners:async s=>{const i=kt(s);for(let r=0;r<i.length;r++)p.unregisterEventListener(i[r]),i[r]=null,r%50===0&&await Yt()}}}const p=new m;let P=null,D=null;function v(t){var s;(s=l[a])!=null&&s.mount||e.push(t)}function T(t){D=t}function Et(){const t=[];Object.keys(l).forEach(s=>{var i,r;n[s]||((r=(i=l[s]).unMount)==null||r.call(i),l[s].unMount=null,Pt[s]&&delete Pt[s],l[s]=null,delete l[s],t.push(s))}),vt(t)}function ft(){for(;e!=null&&e.length;)e.pop()();Ht()}function O(t,...s){return s}function g(t,s,...i){var b,E,q,B;let r;if(Array.isArray(i)&&(i=i.flat()),typeof t=="function"){r=(b=u[u.length-1])==null?void 0:b.n,u.push({n:t==null?void 0:t.name});const d=`${t.name}:${r}:${s==null?void 0:s.key}`;Lt(d),a=d;let y=t(s,...i);if(l){const tt=l[d];tt?(P=!0,D=tt.unMount):P&&e.push(P)}return n[d]={fname:t.name,mount:!0,unMount:D,p:r,key:s==null?void 0:s.key},P=D=null,Lt(null),u.pop(),y!=null&&y.type?(y.type==="df"&&(s={...s,fragChildLen:y==null?void 0:y.children.length}),{...y,$c:t.name,children:[y],$p:r,key:s==null?void 0:s.key,props:s||{},type:"df"}):Array.isArray(y)?(console.warn("Your component named `",t.name,"` is returning Array, manipulation to this Array is currently NOT supported and can lead to Unexpected behavior"),{$c:t.name,type:"df",children:y,$p:r}):y!=null&&y.$c?{$c:t.name,children:[y],$p:r}:{$c:t.name,value:y,props:s||{},$p:r}}if(t==="df"){let d=0;for(let y=0;y<i.length;++y)((E=i[y])==null?void 0:E.type)==="df"?d+=((B=(q=i[y])==null?void 0:q.props)==null?void 0:B.fragChildLen)||0:d+=1;return{type:t,props:{...s,fragChildLen:d},children:i}}else return{type:t,props:s||{},children:t!=null&&t.includes("-")||s!=null&&s.ignoreNode||(t==null?void 0:t.toLowerCase())==="iframe"||(t==null?void 0:t.toLowerCase())==="template"?[]:i}}function R(t,s,i){i?(t.setAttribute(s,i),t[s]=!0):t[s]=!1}function M(t,s){t.removeAttribute(s),t[s]=!1}function z(t){return/^on/.test(t)}function at(t){return t.slice(2).toLowerCase()}function rt(t){return z(t)||t==="fragChildLen"||t==="fallback"}function x(t,s,i){rt(s)||(s==="className"?t.setAttribute("class",i):s==="style"?Object.keys(i).forEach(r=>{t.style[r]=i[r]}):s==="ref"?i==null||i(t):s==="ignoreLater"?(t.setAttribute("ignorenode",!0),t.removeAttribute(s.toLowerCase())):typeof i=="boolean"?R(t,s,i):((s==="value"||s==="htmlFor")&&(t[s]=i,setTimeout(()=>{t[s]=i},0)),t.setAttribute(s,i)))}function K(t,s,i){rt(s)||(s==="className"?t.removeAttribute("class"):typeof i=="boolean"?M(t,s):t.removeAttribute(s))}function jt(t,s){Object.keys(s).forEach(i=>{x(t,i,s[i])})}function Mt(t,s,i,r){!i&&i==null?K(t,s,r):(!r||i!==r)&&x(t,s,i)}function It(t,s,i={}){const r=Object.assign({},s,i);Object.keys(r).forEach(b=>{Mt(t,b,s[b],i[b])})}function Dt(t,s){Object.keys(s).forEach(i=>{if(z(i)){const r=at(i);p.registerEventListener(t,r,s[i]),t.addEventListener(r,s[i],!0)}})}const bt="http://www.w3.org/2000/svg",xt=(t,s,...i)=>{function r(E,q){Object.keys(q).forEach(B=>{E.setAttributeNS(null,B,q[B])})}const b=Q.createElementNS(bt,"svg");r(b,s);for(const E of i){const q=Q.createElementNS(bt,E.type);r(q,E.props),b.appendChild(q)}return b};function W(t){if(!(t!=null&&t.type))return t!=null&&t.$c?t.children?W(t.children[0]):Q.createTextNode((t==null?void 0:t.value)==null||(t==null?void 0:t.value)==null?"":t==null?void 0:t.value):Q.createTextNode(t==null||t==null?"":t);if((t==null?void 0:t.type)==="df"){const i=Q.createDocumentFragment();return t.children.map(W).forEach(i.appendChild.bind(i)),i}if(t.type==="svg")return xt(t.type,t.props,...t.children);const s=Q.createElement(t.type);return t!=null&&t.$c||(jt(s,t.props),Dt(s,t.props)),t.children.map(W).forEach(s.appendChild.bind(s)),s}function dt(t,s){var i,r;return(t==null?void 0:t.type)===(s==null?void 0:s.type)&&(t==null?void 0:t.type)==="df"?(t==null?void 0:t.$c)!==(s==null?void 0:s.$c):typeof t!=typeof s||!(t!=null&&t.type)&&t!==s||(t==null?void 0:t.type)!==(s==null?void 0:s.type)||(t==null?void 0:t.value)!==(s==null?void 0:s.value)||((i=t==null?void 0:t.props)==null?void 0:i.name)!==((r=s==null?void 0:s.props)==null?void 0:r.name)}function Vt(t,s){o=t,f=s,c=f(),I(c),I(n),o.firstChild?o.replaceChild(W(c),o.firstChild):o.appendChild(W(c)),ft(),l={...n},n={}}let _=[],ct=[];function _t(){let t=f();I(c,t),I(n),I(performance.now()),_=[],ct=[],qt(o,t,c),I(performance.now());let s=setTimeout(()=>{clearTimeout(s),Et(),ct&&Wt(ct),_&&Bt(_),ft(),c=t,l={...n},n={}},0)}function yt(t){return t!==void 0||t!==""}const w={routeChange:!1,set:t=>{w.routeChange=t}};window.addEventListener("popstate",()=>w.set(!0)),window.addEventListener("navigate",()=>w.set(!0));function qt(t,s,i,r=0){let b=kt(o),E=0,q=null,B=!1,d=null,y=0;w.routeChange&&(U.clear(),w.set(!1));const tt=U.size;let ht=null,et=!1,G=0,ot=0;function pt(h,L,k,J=0){var st;if(!et&&tt){if(L!=null&&L.type&&(k!=null&&k.type))return St(L,k);if(L===k)return}if(y++,!yt(k))I("append: "),_.push({p:h,op:"APPEND",c:W(L)});else if(yt(L))if(dt(L,k))if(h!=null&&h.childNodes[J]){const S=h.childNodes[J];if(_.push({p:h,op:"REPLACE",c:[W(L),S]}),(S==null?void 0:S.nodeType)===1){for(;E<b.length;)if(E++,b[E]===S){const A=S.querySelectorAll("*").length;b.splice(E,A);break}}const Y=(st=k==null?void 0:k.props)==null?void 0:st.fragChildLen;if((k==null?void 0:k.type)==="df"&&Y)for(let A=Y-1;A>=1;--A)_.push({p:h,op:"REMOVE",c:h.childNodes[J+A]}),E+=1}else if(h!=null&&h.appendChild){const S=W(L);S!=null&&S.nodeName?B?_.push({p:d,op:"APPEND",c:S}):_.push({p:h,op:"APPEND",c:S}):_.push({p:h,op:"CONTENT",c:S==null?void 0:S.textContent})}else _.push({p:h==null?void 0:h.parentNode,op:"APPEND",c:W(L)});else L!=null&&L.type&&St(L,k);else{const S=h.childNodes[J];if(_.push({p:h,op:"REMOVE",c:S}),(S==null?void 0:S.nodeType)===1){for(;E<b.length;)if(E++,b[E]===S){const Y=S.querySelectorAll("*").length;b.splice(E,Y);break}}}}function St(h,L){var J,st,S,Y;if((h==null?void 0:h.type)!=="df")E+=1;else{ht=`${h.$c}:${h.$p}:${h.key}`;let A=ht.split(":")[0];(U.has(ht)||h.$p===A||h.key!==(L==null?void 0:L.key))&&(et=!0)}if(et&&G===0){I(h.props);const{fragChildLen:A}=h.props;if(A){let F=E+1;for(let $=0;$<A;++$){let mt=0;I("qc: ",F);const gt=b[F];mt=(gt==null?void 0:gt.querySelectorAll("*").length)||0,G+=mt,F+=1+mt}ot=E+A+G+1}else G+=((J=b[E+1])==null?void 0:J.querySelectorAll("*").length)||0,I("comparisonsReqd till: ",b[E+G+1]),ot=E+G+1}const k=b[E];if(E===ot&&(et=!1,G=0,ot=0),q!==k){const A=Object.keys(h.props).length,F=Object.keys(L.props).length;if(!(A===F&&A===0)){if(h.props.ignoreNode||h.props.ignoreLater)return;ct.push({$target:k,newProps:h.props,oldProps:L.props})}q=k}if((st=h==null?void 0:h.props)!=null&&st.cacheKey){const A=(Y=(S=h.children[0])==null?void 0:S.props)==null?void 0:Y.__cached,F=A?L.children[0]:null;tt&&!A&&(et=!0),pt(b[++E],h.children[0],F,0);return}else{const A=h.children.length,F=L.children.length;A>100&&(B=!0,d=Q.createDocumentFragment(),I("have for loop custom component or see how this can be optimized"));for(let $=0;$<A||$<F;$++)pt(k,h.children[$],L.children[$],$)}B&&(I("after for",k),_.push({p:k,op:"APPEND",c:d}),B=!1,d=null)}pt(t,s,i,r),U.clear(),Ot.clear(),I(y),y=0}function Wt(t){for(;t.length;){const s=t.shift();It(s.$target,s.newProps,s.oldProps),s.$target=null,s.newProps=null,s.oldProps=null}}function Bt(t){var s,i;for(;t.length;){const r=t.shift();switch(r.op){case"APPEND":r.p.appendChild(r.c),r.c=null,r.p=null,r.op=null;break;case"REMOVE":r.p.removeChild(r.c),((s=r.c)==null?void 0:s.nodeType)===1&&requestIdleCallback(()=>{p.unRegisterAllEventListeners(r.c),r.c=null,r.p=null,r.op=null});break;case"REPLACE":r.p.replaceChild(r.c[0],r.c[1]),((i=r.c[1])==null?void 0:i.nodeType)===1&&requestIdleCallback(()=>{p.unRegisterAllEventListeners(r.c[1]),r.c=null,r.p=null,r.op=null});break;case"CONTENT":r.p.textContent=r.c,r.c=null,r.p=null,r.op=null;break}}}return{mount:Vt,forceUpdate:_t,onMount:v,onCleanup:T,h:g,df:O,createElement:W}})(),Gt=Ct.mount,Rt=Ct.forceUpdate,C=Ct.h,Pt={};function Jt(e){return e.tagName.includes("-")}function kt(e){let n=[e],l=e;function a(){for(;l;){const o=!(l!=null&&l.getAttribute("ignorenode")||l.tagName==="IFRAME"||Jt(l));l.firstElementChild&&o?(l=l.firstElementChild,n.push(l)):u()}}function u(){for(;l;){if(l.nextElementSibling){l=l.nextElementSibling,n.push(l);return}l=l.parentElement,l===e&&(l=null)}}return a(),n}function Yt(){var e;return(e=globalThis.scheduler)!=null&&e.yield?scheduler.yield():new Promise(n=>{setTimeout(n,0)})}class Qt extends HTMLElement{constructor(){super();const n=this.attachShadow({mode:"open"}),l=document.createElement("div");l.textContent="Hello from Web Component!",l.style.color="blue",n.appendChild(l)}connectedCallback(){console.log("Web Component mounted!")}disconnectedCallback(){console.log("Web Component unmounted!")}static get observedAttributes(){return["message"]}attributeChangedCallback(n,l,a){n==="message"&&(this.shadowRoot.querySelector("div").textContent=a)}}customElements.define("hole-component",Qt);lt(window.location.pathname);var Xt={VITE_VERBS:"/verbs.json",VITE_WORDS:"/words.json",VITE_BASEPATH:"https://aksh-github.github.io/pages/data/sanskrit/db",VITE_TS:"/data-ts.json",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const nt=Xt,Zt=()=>{var n;const e=(((n=window==null?void 0:window.location)==null?void 0:n.host)||"localhost")+":sans:";return{updateData:(l,a)=>{localStorage.setItem(e+l,JSON.stringify({ts:Date.now(),d:a}))},get:l=>JSON.parse(localStorage.getItem(e+l))}},ut={VERBS:0,WORDS:1},N={words:{d:[],ts:0},verbs:{d:[],ts:0}};let H=null;const Nt=({row:e})=>{var n,l,a,u,o,f;return C("div",{className:"divrow"},C("h3",null,e==null?void 0:e.ev," ",(n=e==null?void 0:e.mv)==null?void 0:n.join(", ")),C("p",null," ",(l=e==null?void 0:e.sv)==null?void 0:l.join(", ")),C("p",null,(a=e==null?void 0:e.gana)==null?void 0:a.join(", ")),C("p",null,(u=e==null?void 0:e.roop)==null?void 0:u.join(", ")),C("p",null,(o=e==null?void 0:e.lyut)==null?void 0:o.join(", ")),C("p",null,(f=e==null?void 0:e.kta)==null?void 0:f.join(", ")))},wt=e=>{var a,u,o,f;let n=(a=H==null?void 0:H.trim())==null?void 0:a.toLowerCase(),l=(u=e==null?void 0:e.ev)==null?void 0:u.includes(n);if(!l){for(let c=0;c<((o=e==null?void 0:e.sv)==null?void 0:o.length);c++)if((e==null?void 0:e.sv[c].indexOf(n))>-1){l=!0;break}}if(!l){for(let c=0;c<((f=e==null?void 0:e.mv)==null?void 0:f.length);c++)if((e==null?void 0:e.mv[c].indexOf(n))>-1){l=!0;break}}return l},te=({row:e})=>{var n,l;return C("li",null,C("h3",null,e==null?void 0:e.ew),C("p",null,(n=e==null?void 0:e.sw)==null?void 0:n.join(", ")),C("p",null,(l=e==null?void 0:e.mw)==null?void 0:l.join(", ")))},ee=e=>{var a,u,o,f;let n=(a=H==null?void 0:H.trim())==null?void 0:a.toLowerCase(),l=(u=e==null?void 0:e.ew)==null?void 0:u.includes(n);if(!l){for(let c=0;c<((o=e==null?void 0:e.sw)==null?void 0:o.length);c++)if((e==null?void 0:e.sw[c].indexOf(n))>-1){l=!0;break}}if(!l){for(let c=0;c<((f=e==null?void 0:e.mw)==null?void 0:f.length);c++)if((e==null?void 0:e.mw[c].indexOf(n))>-1){l=!0;break}}return l},j={[ut.VERBS]:{title:"Verbs",dkey:"verbs",jsonFile:nt.VITE_VERBS,filterFunc:wt,RowComponent:Nt},[ut.WORDS]:{title:"Words",dkey:"words",jsonFile:nt.VITE_WORDS,filterFunc:ee,setDatacb:e=>e["Everyday words"].concat(e.home).concat(e["eng other"]),RowComponent:te,asList:!0}},At=(e=!1)=>{const{updateData:n,get:l}=Zt(),a=[],u=[];return Object.keys(j).forEach(o=>{const f=l(`${j[o].dkey}`);if(!f||e)a.push(se(j[o].jsonFile)),u.push(j[o].dkey);else{const{ts:c,d:m}=f;a.push(Promise.resolve({ts:c,d:m||[]}))}}),Promise.all(a).then(o=>{Object.keys(j).forEach(f=>{var m,p,P,D;let c=((m=o[f])==null?void 0:m.d)||o[f];c=j[f].setDatacb&&!(c!=null&&c.length)?j[f].setDatacb(c):c,(p=c==null?void 0:c.shift)==null||p.call(c),(P=c==null?void 0:c.shift)==null||P.call(c),u.includes(j[f].dkey)&&requestIdleCallback(()=>{n(`${j[f].dkey}`,c),u.splice(u.indexOf(j[f].dkey),1)}),N[`${j[f].dkey}`].d=c,N[`${j[f].dkey}`].ts=((D=o[f])==null?void 0:D.ts)||0})})},se=e=>fetch(`${nt.VITE_BASEPATH}${e}`).then(n=>n.json());function le({prop:e,search:n,dkey:l}){const{title:u,filterFunc:o,RowComponent:f,asList:c}=j[e];H=n;const m=n?N[`${l}`].d.filter(o):N[`${l}`].d.slice(0,10),p=m.map(P=>C(f,{row:P}));return C("div",null,C("h2",{className:"title"},u),m.length===0&&n?C("p",{className:"info"},'No results for your search: "',n,'"'):null,m.length>0&&n?C("p",{className:"info"},"Matching results: ",m.length):null,c?C("ul",{className:"list"},p):C("div",{className:"search"},p))}function ne(e){const[n,l]=lt(0),[a,u]=lt(!1);lt(!1);const[o,f]=lt("");return Kt(()=>(console.log("mount for Sans"),At().then(()=>{u(!0),fetch(`${nt.VITE_BASEPATH}${nt.VITE_TS}?ts=${Date.now()}`).then(c=>c.json()).then(c=>{let m=0;Object.keys(N).forEach(p=>{N[p].ts<c[p]&&(console.log("update for",p),m+=1)}),m>0&&At(!0)})}).catch(c=>{console.log(c),a(!0)}),()=>{console.log("cleanup for Sans"),H=null}),[]),C("div",{className:"sans"},C("header",{className:"sticky-header"},C("h1",{className:"main-head"},"संस्कृतकोष:"),C("div",{style:{textAlign:"center"},className:"search-box"},C("input",{value:o,ref:c=>c,type:"search",name:"search",placeholder:"Search in English or Sanskrit...",onInput:c=>{var m;f((m=c.target.value)==null?void 0:m.trim())}})),C("p",{className:"tabs"},C("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),l(ut.VERBS)}},"Verbs"),C("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),l(ut.WORDS)}},"Words"))),a?C("div",{className:"search-wrapper"},C(le,{key:j[n].dkey,dkey:j[n].dkey,prop:n,search:o})):C("p",null,"Loading..."))}const ie=document.getElementById("root-vdom");$t(Rt);zt(Rt);Gt(ie,()=>C(ne,null));
